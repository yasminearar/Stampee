/* ===== Styles pour les dialogues et popovers utilisant l'API native ===== */

/* Reset et styles de base pour l'élément dialog */
dialog {
  all: unset !important;
  display: none !important;
}

dialog[open] {
  display: block !important;
}

/* Styles pour le dialogue natif du compte utilisateur */
dialog#compte-popover,
dialog#compte-popover.compte-popover {
  all: unset !important;
  display: none !important;
  position: absolute !important;
  top: calc(100% + 10px) !important;
  right: 0 !important;
  left: auto !important;
  width: 280px !important;
  margin: 0 !important;
  background-color: white !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  z-index: 9999 !important;
  overflow: hidden !important;
  padding: 0 !important;
  border: 1px solid #e0e0e0 !important;
  max-height: calc(100vh - 100px) !important;
  font-family: 'Inter', sans-serif !important;
  text-align: left !important;
  box-sizing: border-box !important;
}

/* Affichage seulement quand l'attribut open est présent */
dialog#compte-popover[open],
dialog#compte-popover.compte-popover[open] {
  display: block !important;
  visibility: visible !important;
  animation: fadeInDialog 0.2s ease-out !important;
}

/* Animation d'ouverture */
@keyframes fadeInDialog {
  from { 
    opacity: 0 !important; 
    transform: translateY(-10px) !important; 
  }
  to { 
    opacity: 1 !important; 
    transform: translateY(0) !important; 
  }
}

/* Suppression du backdrop par défaut */
dialog#compte-popover::backdrop {
  background-color: transparent !important;
}

/* Styles pour les liens du dialogue */
dialog#compte-popover a,
dialog#compte-popover.compte-popover a {
  all: unset !important;
  display: flex !important;
  align-items: center !important;
  padding: 10px 15px !important;
  text-decoration: none !important;
  font-size: 14px !important;
  transition: background-color 0.2s !important;
  cursor: pointer !important;
  box-sizing: border-box !important;
  width: 100% !important;
  font-family: 'Inter', sans-serif !important;
}

dialog#compte-popover a:hover,
dialog#compte-popover.compte-popover a:hover {
  background-color: #f5f5f5 !important;
  text-decoration: none !important;
}

dialog#compte-popover .compte-popover__link,
dialog#compte-popover.compte-popover .compte-popover__link {
  color: #203843 !important;
}

dialog#compte-popover .compte-popover__logout,
dialog#compte-popover.compte-popover .compte-popover__logout {
  color: #e53935 !important;
}

dialog#compte-popover .compte-popover__logout:hover,
dialog#compte-popover.compte-popover .compte-popover__logout:hover {
  background-color: #ffebee !important;
}

dialog#compte-popover .compte-popover__login,
dialog#compte-popover.compte-popover .compte-popover__login {
  color: #2196f3 !important;
  font-weight: 500 !important;
}

dialog#compte-popover svg,
dialog#compte-popover .compte-popover__link-icon,
dialog#compte-popover .compte-popover__logout-icon,
dialog#compte-popover.compte-popover svg,
dialog#compte-popover.compte-popover .compte-popover__link-icon,
dialog#compte-popover.compte-popover .compte-popover__logout-icon {
  margin-right: 10px !important;
  display: inline-block !important;
  flex-shrink: 0 !important;
  width: 16px !important;
  height: 16px !important;
}

/* Styles pour les sections du dialogue */
dialog#compte-popover div,
dialog#compte-popover.compte-popover div {
  box-sizing: border-box !important;
}

dialog#compte-popover .compte-popover__header,
dialog#compte-popover.compte-popover .compte-popover__header {
  display: flex !important;
  align-items: center !important;
  padding: 15px !important;
  background-color: #f5f5f5 !important;
  border-bottom: 1px solid #e0e0e0 !important;
  margin: 0 !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

dialog#compte-popover .compte-popover__avatar,
dialog#compte-popover.compte-popover .compte-popover__avatar {
  width: 40px !important;
  height: 40px !important;
  flex-shrink: 0 !important;
  border-radius: 50% !important;
  fill: #203843 !important;
}

dialog#compte-popover .compte-popover__user-info,
dialog#compte-popover.compte-popover .compte-popover__user-info {
  margin-left: 12px !important;
  flex-grow: 1 !important;
  min-width: 0 !important;
  overflow: hidden !important;
}

dialog#compte-popover .compte-popover__username,
dialog#compte-popover.compte-popover .compte-popover__username {
  font-weight: 600 !important;
  color: #203843 !important;
  font-size: 16px !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  margin: 0 !important;
  line-height: 1.4 !important;
  font-family: 'Inter', sans-serif !important;
}

dialog#compte-popover .compte-popover__email,
dialog#compte-popover.compte-popover .compte-popover__email {
  color: #666 !important;
  font-size: 14px !important;
  margin-top: 2px !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  margin-bottom: 0 !important;
  line-height: 1.3 !important;
  font-family: 'Inter', sans-serif !important;
}

dialog#compte-popover .compte-popover__content,
dialog#compte-popover.compte-popover .compte-popover__content {
  padding: 10px 0 !important;
  background-color: white !important;
  margin: 0 !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

dialog#compte-popover .compte-popover__footer,
dialog#compte-popover.compte-popover .compte-popover__footer {
  border-top: 1px solid #e0e0e0 !important;
  padding: 10px 0 !important;
  margin: 0 !important;
  width: 100% !important;
  box-sizing: border-box !important;
  background-color: white !important;
}

/* S'assurer que l'élément parent a position relative */
.entete__profil {
  position: relative !important;
}

/* Responsive design pour les dialogues */
@media (max-width: 768px) {
  dialog#compte-popover {
    width: 260px !important;
  }
}

@media (max-width: 480px) {
  dialog#compte-popover {
    width: 230px !important;
    right: -15px !important;
  }
}
